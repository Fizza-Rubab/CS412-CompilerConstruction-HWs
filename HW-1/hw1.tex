\UseRawInputEncoding
\documentclass[12pt]{article}

\usepackage[margin=1in]{geometry} 
\usepackage{amsmath}
\usepackage{tcolorbox}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{float}
\usepackage{lastpage}
\usepackage{fancyhdr}
\usepackage{accents}
\usepackage{listings}
\usepackage{hyperref}
 \usepackage[utf8]{inputenc}
\usepackage{framed}
\pagestyle{fancy}
\usepackage{mathtools}
\setlength{\headheight}{40pt}
\usepackage{longtable}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{imakeidx}
\makeindex[columns=3, title=Alphabetical Index, intoc]

\usepackage{titlesec}
\usepackage{hyperref}

\titleclass{\subsubsubsection}{straight}[\subsection]

\newcounter{subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection.\arabic{subsubsubsection}}
\renewcommand\theparagraph{\thesubsubsubsection.\arabic{paragraph}} % optional; useful if paragraphs are to be numbered

\titleformat{\subsubsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsubsection}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{5}{\z@}%
  {3.25ex \@plus1ex \@minus.2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\renewcommand\subparagraph{\@startsection{subparagraph}{6}{\parindent}%
  {3.25ex \@plus1ex \@minus .2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\def\toclevel@subsubsubsection{4}
\def\toclevel@paragraph{5}
\def\toclevel@paragraph{6}
\def\l@subsubsubsection{\@dottedtocline{4}{7em}{4em}}
\def\l@paragraph{\@dottedtocline{5}{10em}{5em}}
\def\l@subparagraph{\@dottedtocline{6}{14em}{6em}}
\makeatother

\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

\newenvironment{solution}
  {\renewcommand\qedsymbol{$\blacksquare$}
  \begin{proof}[Solution]}
  {\end{proof}}
\renewcommand\qedsymbol{$\blacksquare$}

\newcommand{\ubar}[1]{\underaccent{\bar}{#1}} % add packages, settings, and declarations in settings.tex
\usepackage{xcolor}
\usepackage{listings}
\definecolor{vgreen}{RGB}{104,180,104}
\definecolor{vblue}{RGB}{49,49,255}
\definecolor{vorange}{RGB}{255,143,102}

\lstdefinestyle{verilog-style}
{
    language=Verilog,
    basicstyle=\small\ttfamily,
    keywordstyle=\color{vblue},
    identifierstyle=\color{black},
    commentstyle=\color{vgreen},
    breaklines=true, 
    numbers=left,
    captionpos=b,  
    numberstyle=\tiny\color{black},
    numbersep=10pt,
    tabsize=8,
    moredelim=*[s][\colorIndex]{[}{]},
    literate=*{:}{:}1
}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{c-style}{
    language=C,
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}


\makeatletter
\newcommand*\@lbracket{[}
\newcommand*\@rbracket{]}
\newcommand*\@colon{:}
\newcommand*\colorIndex{%
    \edef\@temp{\the\lst@token}%
    \ifx\@temp\@lbracket \color{black}%
    \else\ifx\@temp\@rbracket \color{black}%
    \else\ifx\@temp\@colon \color{black}%
    \else \color{vorange}%
    \fi\fi\fi
}
\makeatother

\usepackage{trace}

\begin{document}

\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for the horizontal lines, change thickness here

\center % Center everything on the page
 
%----------------------------------------------------------------------------------------
%	HEADING SECTIONS
%----------------------------------------------------------------------------------------

\textsc{\LARGE \textbf{Habib University}}\\[1.5cm] % Name of your university/college
\textsc{\large \textbf{CS 421 (Compiler Design and Construction) â€“ FALL 2022}}\\[0.5cm] % Minor heading such as course title

%----------------------------------------------------------------------------------------
%	TITLE SECTION
%----------------------------------------------------------------------------------------

\HRule \\[0.4cm]
{ \huge \bfseries Homework 1}\\[0.4cm] % Title of your document
\HRule \\[1.5cm]
 
%----------------------------------------------------------------------------------------
%	AUTHOR SECTION
%----------------------------------------------------------------------------------------

\begin{minipage}{0.4\textwidth}
\begin{center}
\emph{Submitted by:}\\ 
Fizza Rubab 	 fr06161	\\
Iqra Siddiqui			 is06176\\
\end{center}
\end{minipage}
~
\begin{minipage}{0.4\textwidth}
%\begin{flushright} \large
%\emph{Supervisor:} \\
%Dr. James \textsc{Smith} % Supervisor's Name
%\end{flushright}
\end{minipage}\\[2cm]

% If you don't want a supervisor, uncomment the two lines below and remove the section above
%\Large \emph{Author:}\\
%John \textsc{Smith}\\[3cm] % Your name

%----------------------------------------------------------------------------------------
%	DATE SECTION
%----------------------------------------------------------------------------------------

{\large \today}\\[2cm] % Date, change the \today to a set date if you want to be precise

%----------------------------------------------------------------------------------------
%	LOGO SECTION
%----------------------------------------------------------------------------------------

\includegraphics{HU_logo_new.png}\\[1cm] % Include a department/university logo - this will require the graphicx package
 
%----------------------------------------------------------------------------------------

\vfill % Fill the rest of the page with whitespace

\end{titlepage}

\rhead{Homework 1 Solution} 
\cfoot{\thepage\ of \pageref{LastPage}}

%\maketitle

\section{Part I}
\subsection{1)}
    \begin{lstlisting}[style={c-style}]
int w, x, y, z; 
int i = 4; int j = 5;
{ 
    int j = 7;
    i = 6;
    w = i + j;
}
x = i + j;
{ 
    int i = 8;
    y = i + j;
}
z = i + j;

\end{lstlisting}
\begin{framed}
\textbf{Solution:}\\
The values assigned to x on line 8 and z on line 13 are\\
\texttt{x = 11}\\
\texttt{z = 11}
\end{framed}
\subsection{2)}
 \begin{lstlisting}[style={c-style}]
#define a(x + 1)
int x = 2;
void b() {x = a; printf("%d\n", x);}
void c() {int x = 1; printf("%d\n", a);}
void main() {b(); c();}
\end{lstlisting}
\begin{framed}
\textbf{Solution:}\\
The the program will compile successfully and we will get the following output:\\
3\\
2\\

\end{framed}
\subsection{3)}
\begin{framed}
\textbf{Solution:}\\
The regular expression for USD Currency is
\begin{center}
    
$(0|([1-9][0-9]\{0,2\}))(,\setminus d\{3\})^*(.[0-9]\{1,2\})?$

\end{center}
In the familiar notation that we used in class, this can also be written as
\begin{center}
    = $\$(0 |(\text{nonzerodigit} \; \text{digit}\{0,2\}))(, \; \text{digit}\{3\})^*(. \;\; \text{digit}\{1,2\})\{0,1\}$\\
    where,\\
    digit$=[0,1,2,3,4,5,6,7,8,9]$\\
    nonzerodigit$=[1,2,3,4,5,6,7,8,9]$
    
    
\end{center}
\end{framed}

\section{Part II}
\subsection{Assumptions}
\begin{enumerate}
    \item \texttt{return} and \texttt{str} are not mentioned in keywords or data-types so they are considered as identifiers by the lexer.
    \item Period or dot (.) is considered as a punctuator. This means that the text "faf11." gets tokenized to <id,faf11><.> and "23.5.9" gets tokenized to <num,23.5><.><num,9>.
    \item Numbers are only added to token stream and not in the symbol table.
    \item String literals and char constant can be encapsulated in both single or double quotes since the prompt doesn't mention anything. However, literals would be of length>1 while constants are of length exactly 1.
\end{enumerate}
\end{document}
